{"id":428542886,"lang":"cpp","lang_name":"C++","time":"2 years, 9 months","timestamp":1607434084,"status":10,"status_display":"Accepted","runtime":"68 ms","url":"/submissions/detail/428542886/","is_pending":"Not Pending","title":"Fizz Buzz Multithreaded","memory":"7.3 MB","code":"#include <stdio.h> \n#include <pthread.h> \n#include <semaphore.h> \n#include <unistd.h> \n  \n\nclass FizzBuzz {\nprivate:\n    int n;\n    sem_t f;\n    sem_t b;\n    sem_t fb;\n\npublic:\n    FizzBuzz(int n) {\n        this->n = n;\n        sem_init(&f, 0, 0); \n        sem_init(&b, 0, 0); \n        sem_init(&fb, 0, 0); \n\n    }\n\n    // printFizz() outputs \"fizz\".\n    void fizz(function<void()> printFizz) {\n        for (int i=3; i<=this->n; i+=3) {\n            if (i % 5 != 0) {\n                sem_wait(&f); \n                printFizz();\n            }\n        }\n    }\n\n    // printBuzz() outputs \"buzz\".\n    void buzz(function<void()> printBuzz) {\n        for (int i=5; i<=this->n; i+=5) {\n            if (i % 3 != 0) {\n                sem_wait(&b); \n                printBuzz();\n            }\n        }\n    }\n\n    // printFizzBuzz() outputs \"fizzbuzz\".\n\tvoid fizzbuzz(function<void()> printFizzBuzz) {\n         for (int i=15; i<=this->n; i+=15) {\n            sem_wait(&fb); \n            printFizzBuzz();\n        }\n    }\n\n    // printNumber(x) outputs \"x\", where x is an integer.\n    void number(function<void(int)> printNumber) {\n         for (int i=1; i<=this->n; i++) {\n            if (i % 3 == 0 & i % 5 == 0)\n                sem_post(&fb);\n            else if (i % 3 == 0)\n                sem_post(&f);\n            else if (i % 5 == 0)\n                sem_post(&b);\n            else\n                printNumber(i);\n        }\n    }\n\n    ~FizzBuzz() {\n        sem_destroy(&f);\n        sem_destroy(&b);\n        sem_destroy(&fb);\n    }\n};","compare_result":"111111111","title_slug":"fizz-buzz-multithreaded","has_notes":false,"flag_type":1}